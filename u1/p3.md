## **PrÃ¡ctica 3: Lectura de Entradas Digitales â€“ Control de LED con BotÃ³n**

### **Objetivo de la prÃ¡ctica**

Introducir el uso de pines configurados como **entradas digitales** y comprender cÃ³mo leer su estado mediante cÃ³digo. El alumno serÃ¡ capaz de detectar el estado de un botÃ³n y utilizar esa informaciÃ³n para controlar el encendido y apagado de un LED.

---

### **1. IntroducciÃ³n teÃ³rica**

Hasta ahora se han utilizado salidas digitales (`digitalWrite()`) para encender o apagar un LED. En esta prÃ¡ctica se trabajarÃ¡ con **entradas digitales**, utilizando la funciÃ³n `digitalRead()`, que permite **leer el estado lÃ³gico (ALTO o BAJO)** de un pin.

Los botones mecÃ¡nicos son componentes comunes que generan una seÃ±al digital al presionarse. Sin embargo, su comportamiento puede variar si no se manejan correctamente las resistencias *pull-up* o *pull-down*.

> ğŸ’¡ **Concepto clave:** Un pin configurado como entrada **necesita una referencia clara de voltaje**. De lo contrario, puede quedar en un estado flotante e inestable.

---

### **2. Material necesario**

* Arduino Uno, Nano o ESP32.
* 1 LED.
* 1 resistencia de 220 ohms para el LED.
* 1 botÃ³n (pulsador normalmente abierto).
* 1 resistencia de 10k ohms (para *pull-down*).
* Protoboard y cables.
* Computadora con el IDE de Arduino.
* Cable USB.

---

### **3. Diagrama de conexiÃ³n**

**ConexiÃ³n del botÃ³n con resistencia pull-down:**

```
 +5V ----+
         |
       [ Pulsador ]
         |
         +---------- Pin digital (ej. pin 2)
         |
       [ 10kÎ© ]
         |
        GND
```

**ConexiÃ³n del LED:**

```
 Pin digital (ej. pin 13) --> [220Î©] --> Ãnodo LED --> CÃ¡todo --> GND
```

---

### **4. CÃ³digo base de la prÃ¡ctica**

```cpp
void setup() {
  pinMode(2, INPUT);       // Configura el pin 2 como entrada
  pinMode(13, OUTPUT);     // Configura el pin 13 como salida
}

void loop() {
  int estadoBoton = digitalRead(2); // Lee el estado del botÃ³n

  if (estadoBoton == HIGH) {
    digitalWrite(13, HIGH);         // Enciende el LED si el botÃ³n estÃ¡ presionado
  } else {
    digitalWrite(13, LOW);          // Apaga el LED si el botÃ³n no estÃ¡ presionado
  }
}
```

---

### **5. ExplicaciÃ³n paso a paso**

#### **5.1. ConfiguraciÃ³n de pines**

```cpp
pinMode(2, INPUT);
```

* Establece el pin 2 como **entrada digital**.
* Se espera que reciba un valor **HIGH** (cuando el botÃ³n se presiona) o **LOW** (cuando no).

```cpp
pinMode(13, OUTPUT);
```

* Establece el pin 13 como salida digital para controlar el LED.

#### **5.2. Lectura del botÃ³n**

```cpp
int estadoBoton = digitalRead(2);
```

* Lee el valor lÃ³gico del pin 2.
* `estadoBoton` serÃ¡ `HIGH` (1) si el botÃ³n estÃ¡ presionado y `LOW` (0) si no lo estÃ¡.

#### **5.3. Estructura condicional**

```cpp
if (estadoBoton == HIGH) {
  digitalWrite(13, HIGH);
} else {
  digitalWrite(13, LOW);
}
```

* Si el botÃ³n estÃ¡ presionado, el LED se enciende.
* Si no, el LED permanece apagado.

> ğŸ” Esta estructura de control permite responder a eventos externos en tiempo real.

---

### **6. Alternativa: uso de resistencia pull-up interna**

El pin de entrada puede configurarse con una **resistencia pull-up interna**, evitando usar resistencias externas. En este caso, el botÃ³n debe conectarse entre el pin y **GND**.

```cpp
pinMode(2, INPUT_PULLUP); // Usa resistencia pull-up interna
```

La lÃ³gica se invierte:

* Cuando el botÃ³n se presiona â†’ el pin se conecta a GND â†’ `LOW`
* Cuando no se presiona â†’ el pin flota con la resistencia â†’ `HIGH`

Se debe cambiar la condiciÃ³n:

```cpp
if (estadoBoton == LOW) { // Ahora se activa en LOW
  digitalWrite(13, HIGH);
} else {
  digitalWrite(13, LOW);
}
```

---

### **7. Actividad de comprobaciÃ³n**

> **Ejercicio:** Modificar el cÃ³digo para que:
>
> 1. El LED **se encienda solamente mientras el botÃ³n estÃ© presionado**.
> 2. Se utilice la **resistencia pull-up interna** (sin resistencias externas).
> 3. En lugar de usar el pin 13, usar el pin 12 para el LED.
>
> AdemÃ¡s, escribir en el monitor serial el mensaje:
>
> * `"BotÃ³n presionado"` si se presiona.
> * `"BotÃ³n liberado"` si no.

> **Pistas:**
>
> * Se debe usar `Serial.begin(9600);` en `setup()`.
> * Se usa `Serial.println()` para mostrar mensajes.
