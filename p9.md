## **Pr谩ctica 9: Diagn贸stico y Visualizaci贸n con el Monitor Serial**

### **Objetivo de la pr谩ctica**

Aprender a utilizar el **monitor serial** del IDE de Arduino para enviar mensajes, mostrar valores de variables y verificar el comportamiento del programa en tiempo real. El alumno ser谩 capaz de visualizar datos internos del microcontrolador y usar el puerto serial como herramienta de depuraci贸n.

---

### **1. Introducci贸n te贸rica**

El monitor serial permite **comunicarse con la computadora** a trav茅s del cable USB. Por medio de funciones como `Serial.print()` y `Serial.println()` es posible mostrar informaci贸n como:

* Estados de botones o sensores.
* Valores de variables.
* Tiempos, c谩lculos o resultados l贸gicos.
* Mensajes para verificar el flujo de ejecuci贸n del c贸digo.

>  El puerto serial es la **principal herramienta de diagn贸stico** cuando no hay pantalla o interfaz gr谩fica.

---

### **2. Material necesario**

* Arduino Uno, Nano o ESP32.
* 1 bot贸n.
* 1 LED.
* 2 resistencias: 220 ohms (LED) y 10k ohms (pull-down).
* Protoboard y cables.
* Computadora con el IDE de Arduino.
* Cable USB.

---

### **3. Diagrama de conexi贸n**

Igual que en pr谩cticas anteriores:

* Bot贸n conectado al pin 2 (con pull-down).
* LED conectado al pin 13 (o cualquier pin digital disponible).

---

### **4. C贸digo base de la pr谩ctica**

```cpp
const int pinBoton = 2;
const int pinLED = 13;
bool estadoLED = false;
bool estadoAnterior = LOW;

void setup() {
  pinMode(pinBoton, INPUT);
  pinMode(pinLED, OUTPUT);
  Serial.begin(9600); // Inicia comunicaci贸n serial a 9600 baudios
}

void loop() {
  bool estadoActual = digitalRead(pinBoton);

  if (estadoActual != estadoAnterior) {
    if (estadoActual == HIGH) {
      estadoLED = !estadoLED;
      digitalWrite(pinLED, estadoLED ? HIGH : LOW);

      Serial.print("Bot贸n presionado. LED = ");
      Serial.println(estadoLED ? "ENCENDIDO" : "APAGADO");
    }
    delay(50); // Simple debounce para evitar repeticiones r谩pidas
  }

  estadoAnterior = estadoActual;
}
```

---

### **5. Explicaci贸n paso a paso**

#### **5.1. Inicializaci贸n del monitor serial**

```cpp
Serial.begin(9600);
```

* Inicia la comunicaci贸n a **9600 baudios**.
* Debe ir en `setup()` y coincidir con la velocidad del monitor serial.

#### **5.2. Env铆o de mensajes al monitor**

```cpp
Serial.print("Texto");
Serial.println("Texto");
```

* `print()` mantiene el cursor en la misma l铆nea.
* `println()` agrega salto de l铆nea.

#### **5.3. Mostrar valores din谩micos**

```cpp
Serial.println(estadoLED ? "ENCENDIDO" : "APAGADO");
```

* Imprime texto condicional seg煤n el estado del LED.
* Ideal para verificar si el programa responde correctamente.

---

### **6. C贸mo usar el monitor serial**

1. Subir el programa.
2. Presionar el 铆cono de **lupa** (esquina superior derecha del IDE).
3. Ver que la velocidad est茅 en **9600 baudios**.
4. Observar mensajes al presionar el bot贸n.

---

### **7. Actividad de comprobaci贸n**

> **Ejercicio:** Modificar el c贸digo para que:
>
> 1. Se muestre en el monitor serial:
>
>    * `"Esperando pulsaci贸n..."` mientras el bot贸n no est茅 presionado.
>    * `"隆Bot贸n presionado!"` cuando se presione.
> 2. Se cuente el n煤mero total de veces que el bot贸n ha sido presionado.
> 3. Se muestre el tiempo transcurrido desde que se encendi贸 el programa (usando `millis()`).

> **Pistas:**
>
> * Usa una variable `contador`.
> * Usa `millis()` para mostrar el tiempo.
> * Cuidado de no saturar el monitor serial (imprimir solo cuando cambie el estado).

